# **MatrixOne v25.3.0.5 Release Notes**

Release Date: November 15, 2025
MatrixOne Version: v25.3.0.5

MatrixOne 3.0.5 introduces improvements and bug fixes that enhance usability. Below are the major updates.

### Key Improvements

## Vector Search & AI Features

- Vector Index Enhancements: Removed experimental flags for IVF and FullText indexes, making them production-ready
- Vector Pre-filtering: Added support for enable_vector_prefilter_by_default variable and IVF pre-filtering
- Vector Distance Output: Direct vector distance output by Reader for better performance
-Normalized L2 Support: Allow normalized_l2 to use vector index
- Data Branch & Git4Data
- Data Branch Operations: Full support for data branch operations including create, diff, and stage
- Database/Table Management: Support for database/table deletion in data branch
- Parallel Processing: Data branch diff parallel writing to remote storage
- Context-aware Keywords: Make data-branch keywords context-aware

## CDC (Change Data Capture)

- CDC Reimplementation: Complete CDC reimplement based on existing design
- GC Support: GC now supports CDC functionality
- Watermark Management: Improved CDC watermark handling and cleanup
- Metric Dashboard: Added CDC metric dashboard for monitoring
- Performance & Optimization
- Index Selection: Optimized index selection algorithms
- LIMIT BY RANK: Performance optimization for LIMIT BY RANK queries
- FullText Pushdown: FullText pushdown limit when no filter
- Query Metrics: Added ReadSize, S3ReadSize, and DiskReadSize metrics to EXPLAIN ANALYZE

## Infrastructure & Development

- Role Management: Support for rename role name functionality
- Multi-CN Development: Added multi-cn docker compose file for better development
- Go Version: Upgraded Go version to 1.25.4
- Logging Optimization: Removed/optimized logging to reduce noise

### Key Bug Fixes

## Critical Panics & Crashes

- Multi-CN IVF Search: Fixed panic during multi-cn ivf search
- JOIN Condition Conversion: Fixed panic when JOIN condition type conversion fails
- COUNT DISTINCT: Fixed panic when using count(distinct(, ))
- ORDER BY in JOIN: Fixed ORDER BY panic in JOIN queries
- Remote Workspace: Fixed remote run workspace panic
- Insert Ignore: Fixed insert ignore panic

## Data Consistency Issues

- Multi-update Null Mask: Fixed null mask mutation during shrink in multi_update
- Data Inconsistency: Fixed data inconsistency due to stale lock service flags
- Index Table Consistency: Fixed index table data inconsistency in INSERT ON DUPLICATE KEY UPDATE
- Stale Read: Multiple fixes for stale read issues
- Batch Reuse: Fixed data mapping error when batch reused with different Vecs/Attrs

## CDC-specific Fixes

- CDC Data Loss: Fixed CDC pause/resume/restart data loss
- CDC Restart: Fixed downstream "delete" loss after CDC upstream restart
- CDC Watermark: Fixed CDC watermark updater and stale watermark cleanup
- CDC Stale Read: Fixed CDC stale read issues

## SQL & Query Fixes

- Foreign Key Actions: Correctly format foreign key actions in ConstructCreateTableSQL
- Column Pruning: Fixed column pruning failure when applying associative law rules
- JOIN Remap: Fixed remap error in JOIN with cross-table column references
- Left JOIN OR: Fixed left join OR predicate regression
- Affected Rows: Fixed delete/replace statement reporting incorrect affected rows
- Type Conversion & Casting
- TEXT to CHAR/VARCHAR: Skip length validation when casting TEXT to CHAR/VARCHAR
- TIMESTAMP Parsing: LOAD DATA now uses session timezone for TIMESTAMP parsing
- Fractional Precision: Enforce fractional-second precision end-to-end for TIME/DATETIME

## Infrastructure Fixes

- Autocommit Sync: Fixed autocommit status sync issue
- Connection Balancing: Fixed proxy connection balancing when connecting too fast
- Client Pool: Fixed client pool random CI errors
- Version Information: Fixed lost version information when building images

## Full Changelog

[v25.3.0.4-v25.3.0.5](https://github.com/matrixorigin/matrixone/compare/v3.0.4...v3.0.5)